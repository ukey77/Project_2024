const musicContents = {
  music1: {
    title: 'Nice To Meet You',
    artist: 'Imagine Dragons',
    videoUrl: 'https://www.youtube.com/watch?v=NeUfmyu5t8Q',
    lyricsText: `I was wandering up your street
And I was really hoping to meet you
But your girlfriend's gonna delete my number, gone
I was wondering how your weekend's been
You waking up or you sleeping in?
Your girlfriend's gonna be leaving soon, or not?
What could ever go wrong?
Sing your favorite song
She could come along
Oh yeah, yeah
Oh yeah, yeah
What could ever go wrong?
Summer's never too long
Our love's too strong
Oh yeah, yeah
Oh yeah, yeah
Anyway, it's nice to meet you
Anyway, it's nice to meet you
Anyway, it's nice to meet you
Anyway, it's nice to meet you
I was buying you those flowers
I was listening for hours
I was shutting up those doubters, yeah, yeah
She was jealous of our relationship
She hated that we were making it
She's smiling but she's faking it, yeah, yeah
Praying that we make it through the weekend
Wind is in the sail, but we are sinking
Hammering a nail, and now we're leaking, eh, yeah, yeah
Oh yeah, yeah, yeah
Painting on the wall is something freaky
She's been throwing punches like a T.K.O.
Knocking on the door and being sneaky, getaway oh yeah
Oh yeah, yeah, yeah
Anyway, it's nice to meet you
Nice to meet you
Anyway, it's nice to meet you
It's nice to meet
Anyway, it's nice to meet you
I hope to see you
Anyway, it's nice to meet you
Anyways, it's nice to meet you
She could be a Mona Lisa
Should've seen her
I hope we meet again
Hey, it's nice to meet
I hope we meet again (True believer)
Anyway, it's nice to meet you
I hope we meet again (It's nice to meet you)
To meet again
(And I hope to see you)
I hope we meet again (True believer)
(To meet again)
Anyway, it's nice to meet you
`,
    albumCover: 'images/niceToMeetYou.jpg',
    audioFile: 'audio/niceToMeetYou.mp3',
    audioDuration: '03:10',
    isLiked: false
  },
  music2: {
    title: "golden hour",
    artist: 'JVKE',
    videoUrl: 'https://www.youtube.com/watch?v=PEM0Vs8jf1w',
    lyricsText: `It was just two lovers
Sittin' in the car, 
listening to Blonde, 
fallin' for each other
Pink and orange skies, 
feelin' super childish, 
no Donald Glover
Missed call from my mother
Like, "Where you at tonight?" 
Got no alibi
I was all alone with the love of my life
She's got glitter for skin
My radiant beam in the night
I don't need no light to see you
Shine
It's your golden hour (Oh-oh-oh)
You slow down time
In your golden hour (Oh-oh-oh)
We were only getting better
Driving in a circle, a whirlpool, 
going 'round forever
How could I be so lucky? 
Nobody has loved me 
without all the pressure
Of making tiny errors
'Cause we just laugh it off, 
still having a ball
I don't wanna go home 
'til the rest of my life
You know nothing compares 
to the shattering feeling I get
Oh, when you're not right there, no
I was all alone with the love of my life
She's got glitter for skin
My radiant beam in the night, no
I don't need no light to see you
Shine
It's your golden hour (Oh-oh-oh)
You slow down time
In your golden hour (Oh-oh-oh)
`,
    albumCover: 'images/goldenhour.jpg',
    audioFile: "audio/goldenhour.mp3",
    audioDuration: '03:36',
    isLiked: false
  },
  music3: {
    title: 'Baby',
    artist: "BE'O & Paul Blanco",
    videoUrl: 'https://www.youtube.com/watch?v=PJ89TSGcvHs',
    lyricsText: `다들 왜 이렇게 말이 많은 거야
날이 갈수록 더 그리워져가
나만 알고 있는 너가 있잖아
So that’s why 혼자인 시간이 좋아 Like
Ahh baby
Ahh baby
어차피 Nobody can love me like you do so
Ahh baby
Ahh baby
어차피 Nobody can love me like you do 
Nobody can love me like you do
여전히 좋아해 많이 마셔 술은
이제는 걸으면 사람들 다 수군대서 
나 함부로 못 다쳐 무릎
짜증나 이제 더워
우리 처음 만난 날처럼
몇 년이나 흘러도
변한 게 하나 없어
Oh you the one I wait for
I can’t give this love away
하늘에 빌었잖아
근데 널 잃었잖아
다신 못할 것 같아 이런 사랑
다 가지고 다 잃었잖아
다들 왜 이렇게 말이 많은 거야
날이 갈수록 더 그리워져가
나만 알고 있는 너가 있잖아
So that’s why 혼자인 시간이 좋아 Like
Ahh baby
Ahh baby
어차피 Nobody can love me like you do so
Ahh baby
Ahh baby
어차피 Nobody can love me like you do 
Ahh baby
Ahh baby
어차피 Nobody can love me like you do so
Ahh baby
Ahh baby
어차피 Nobody can love me like you do 
우리 사랑 다시 하자
You used to kiss me thru the phone and
안 읽어도 가사 넌 다 알잖아 내 노래가 
자주 들려서 I’m sorry
내 생각이 나지 않았으면 하지
아플까 봐 네 마음이
내 곡에 멋진 말을 빙 둘러대도 
네 얘기뿐이지 너도 알 걸
난데 네 옆엔 난데
네 옆을 지켜야 할 사람 바로 난데
난데 안돼 진짜 안돼
Cuz every night 아직 난
딱 한 번이면 될 것 같아
다시 사랑에 빠진다면 너와
이제 다 줄 수 있는데
더 기다리게 해도 너가 좋아
Ahh baby
Ahh baby
어차피 Nobody can love me like you do so
Ahh baby
Ahh baby
어차피 Nobody can love me like you do so
Ahh baby
Ahh baby
어차피 Nobody can love me like you do so
Ahh baby
Ahh baby
어차피 Nobody can love me like you do so
`,
    albumCover: 'images/Baby.jpg',
    audioFile: 'audio/Baby.mp3',
    audioDuration: '03:09',
    isLiked: false
  },
  music4: {
    title: 'Coldplay',
    artist: 'Everglow',
    videoUrl: 'https://www.youtube.com/watch?v=xn_1hFdE-5g',
    lyricsText: `Oh they say people come
They say people go
This particular diamond was extra special
And though you might be gone
And the world may not know
Still I see you celestial
Like a lion you ran
A Goddess you rolled
Like an eagle you circled
In perfect purple
So how come things move on
How come cars don't slow
When it feels like the end of my world?
When I should but I can't let you go?
But when I'm cold, cold
When I'm cold, cold
There's a light that you give me
When I'm in shadow
There's a feeling you give me, an everglow
Like brothers in blood
Sisters who ride
Yeah, We swore on that night
We'd be friends 'til we died
But the changing of winds
And the way waters flow
Life as short as the falling of snow
And now I'm gonna miss you, I know
But when I'm cold, cold
In water rolled, salt
I know you're always with me
And the way you will show
Cuse you're with me wherever I go
And you give me this feeling, this everglow
What I wouldn't give for just a moment to hold
Yeah, I live for this feeling, this everglow
So if you love someone, you should let them know
Oh, the light that you left me will everglow
`,
    albumCover: 'images/Everglow.jpg',
    audioFile: 'audio/Everglow.mp3',
    audioDuration: '04:42',
    isLiked: false
  },
  music5: {
    title: "That's Hilarious",
    artist: 'Charlie Puth',
    videoUrl: 'https://www.youtube.com/watch?v=2fDzCWNS3ig',
    lyricsText: `Look how all tables,
Look how all the tables have turned,
Guess you’re finally realizing 
how bad you messed it up
Girl you’re only making,
Girl you’re only making it worse,
When you call like you always do 
when you want someone
You took away a year,
of my fucking life 
and I can’t get it back no more
So when I see those tears,
Coming out your eyes I hope it’s me there for
You didn’t love when you had me
But now you need me so badly
You can’t be serious
That’s hilarious
Thinking I would still want you
After the things you put me through
Yea You’re delirious
That’s hilarious
Now you put the blame in,
Now you put the blame in reverse,
Tryina make me feel guilty 
for everything you’ve done
You’re another lesson,
You’re just another lesson I learned
Don’t give your heart to a girl 
who still got a broken one
You took away a year,
of my fucking life & I can’t get it back no more
So when I see those tears,
Coming out your eyes I hope it’s me there for 
You didn’t love when you had me
But now you need me so badly
You can’t be serious
That’s hilarious
Thinking I would still want you
After the things you put me through
Yea You’re delirious
That’s hilarious
You didn’t love when you had me
But now you need me so badly
You can’t be serious (you can’t be serious)
That’s hilarious (that’s hilarious)
Thinking I would still want you
After the things you put me through
Yea You’re delirious (delirious)
That’s hilarious (that’s hilarious)
`,
    albumCover: "images/ThatsHilarious.jpg",
    audioFile: "audio/ThatsHilarious.mp3",
    audioDuration: '02:26',
    isLiked: false
  },
  music6: {
    title: "Every Second",
    artist: 'Mina Okabe',
    videoUrl: 'https://www.youtube.com/watch?v=5zjTR7BVVBY',
    lyricsText: `Every second, every day
I spend hoping we never change, love when you
Never wait or hesitate
To tell me what is on your mind, really do
Enjoy your company, I think you would agree
Just where you'd rather be is right here with me
Make my day in every way
Know I'll be ok when you are around

I just want to stop
Worrying 'bout what could come

I really like it here in your arms
Thinking this is where I belong
I had no doubt in my mind 
we would make it far
Now I fear a change, want time to stop

Waiting for an argument
Inevitable, but don't know how bad
The smallest things will get to you
Hoping we won't be a thing of the past
But where we are today is where I want to stay
Leave worries far away 
when you're here with me
I should just enjoy this time
In case we end up leaving all this behind

I just need to stop
Worrying 'bout what could come

I really like it here in your arms
Thinking this is where I belong
I had no doubt in my mind 
we would make it far
Now I fear a change, want time to stop

Yeah, I'm always with you
I wanna remember this moment in time
Though I'm always with you
I wanna remember if we leave this behind

I really like it here in your arms
Thinking this is where I belong
I had no doubt in my mind 
we would make it far
Now I fear a change, want time to stop

I really like it here in your arms
Thinking this is where I belong
I had no doubt in my mind 
we would make it far
Now I fear a change, want time to stop

Yeah, I'm always with you
I wanna remember this moment in time
Though I'm always with you
I wanna remember if we leave this behind

Yeah, I'm always with you
I wanna remember this moment in time
Though I'm always with you
I wanna remember if we leave this behind
`,
    albumCover: 'images/EverySecond.jpg',
    audioFile: "audio/EverySecond.mp3",
    audioDuration: '03:01',
    isLiked: false
  },
  music7: {
    title: "Bad",
    artist: 'Christopher',
    videoUrl: 'https://www.youtube.com/watch?v=ACiyYOz0wsQ',
    lyricsText: `I don't wanna be another him that shit is over
Finally you found yourself a friend
And you run him over
Ever since the start I saw the end around the corner
'Cause I know you so well
So predictable
You're an animal
I can't let you go
You're so good at being bad you know
So predictable
You're an animal
I can't let you go
You're so good at being bad (uh)
My baby's bad you know
My baby's bad you know
My baby my my my baby's bad you know
My my baby's bad you know
My my baby's bad you know
My baby my my my baby's bad you know
You know I'm not gonna leave your side and I can't deny it
Tried to play it cool but I can't hide my true desire
'Cause I can see the dirty in your eyes my favorite liar
And I know you so well well well well
So predictable
You're an animal
I can't let you go
You're so good at being bad you know
So predictable
You're an animal
I can't let you go
You're so good at being bad (uh)
My baby's bad you know
My baby's bad you know
My baby my my my baby's bad you know
My my baby's bad you know
My my baby's bad you know
My baby my my my baby's bad you know
I can see the way you look at me waiting to attack
You are on your worst behavior I want it just like that
I can see the way you look at me waiting to attack
You are on your worst behavior I want it just like that (uh)
My baby's bad you know
My baby's bad you know
My baby my my my baby's bad you know
My my baby's bad you know
My my baby's bad you know
My baby my my my baby's bad you know
So predictable
You're an animal
I can't let you go
You're so good at being bad you know
So predictable
You're an animal
I can't let you go
You're so good at being bad (uh)
`,
    albumCover: 'images/Bad.jpg',
    audioFile: "audio/Bad.mp3",
    audioDuration: '03:10',
    isLiked: false
  },
  music8: {
    title: "Off My Face",
    artist: 'Justin Bieber',
    videoUrl: 'https://www.youtube.com/watch?v=Iz51Nm5NHIw',
    lyricsText: `One touch and you got me stoned
Higher than I've ever known
You call the shots and I follow
Sun rise but the night still young
No words, but we speak in tongues
If you let me, I might say too much
Your touch blurred my vision
It's your world, and I'm just in it
Even sober I'm not thinkin' straight
'Cause I'm off my face, in love with you
I'm out my head, so into and 
I don't know how you do it
But I'm forever ruined by you, 
ooh, ooh, ooh
Can't sleep 'cause I'm way too buzzed
Too late, now you're in my blood
I don't hate the way you keep me up
Your touch blurred my vision
It's your world, and I'm just in it
Even sober I'm not thinkin' straight
'Cause I'm off my face, in love with you
I'm out my head, so into and 
I don't know how you do it
But I'm forever ruin by you, 
ooh, ooh, ooh
Ooh-ooh-ooh, ooh, ooh, ooh, ooh
Ooh-ooh-ooh, ooh, ooh
Ooh-ooh-ooh, ooh, ooh, ooh, ooh
Ooh-ooh-ooh, ooh, ooh
'Cause I'm off my face, in love with you
I'm out my head, so into and 
I don't know how you do it
But I'm forever ruined by you, 
ooh, ooh, ooh
By you, ooh, ooh, ooh
`,
    albumCover: 'images/OffMyFace.jpg',
    audioFile: "audio/OffMyFace.mp3",
    audioDuration: '02:36',
    isLiked: false
  },
  music9: {
    title: "Lucky",
    artist: 'Halsey',
    videoUrl: 'https://www.youtube.com/watch?v=zUtTpuqV55U',
    lyricsText: `I am so lucky
Everybody, get in line to meet the girl who flew too high
Who does it all just to be liked by strangers that she met online
Did it all to be included, my self-loathing so deep-rooted
Inner child that's unrecruited, truth is I'm not suited for it
When I die, I won't have time to spend my money
But I hope that you still love me
'Cause I'm so lucky, I'm a star
But I cry, cry, cry in my lonely heart, thinkin'
"If there's nothin' missin' in my life
Then why (Why, why?) do these tears come at night?"
Why they come? Why they come?
Why they come? Why they come?
And why she losin' so much weight?
I heard it's from the drugs she ate
And I feel her, but I can't relate
'Cause I'd never end up in that state
A girl like that is a mother, must be tough
A problem child, I was rough
But what do you do with a difficult grownup?
When I die, I won't have time to spend my money
But I hope that you still love me (Da-da-da-da, da-da-mm)
'Cause I'm so lucky (I'm so lucky), I'm a star
But I cry, cry, cry in my lonely heart, thinkin'
"If there's nothin' missin' in my life
Then why do these tears come at night?"
I shaved my head four times because I wanted to
And then I did it one more time 'cause I got sick (I am so lucky)
And I thought I changed so much, nobody would notice it, and no one did
Then I left the doctor's office full of tears
Became a single mom at my premiere
And I told everybody I was fine for a whole damn year
And that's the biggest lie of my career
But I'm so lucky, I'm a star
But I cry, cry, cry in my lonely heart, thinkin'
"If there's nothin' missin' in my life
Then why do these tears come at night?"
I'm so lucky, I'm a star
But I cry, cry, cry in my lonely heart, thinkin'
If there's nothin' missin' in my life
Then why do these tears come at night?
She's so lucky, she's so lucky
She's so lucky, she's so
Haven't you heard?
`,
    albumCover: 'images/Lucky.jpg',
    audioFile: "audio/Lucky.mp3",
    audioDuration: '03:18',
    isLiked: false
  },
  music10: {
    title: 'Out of Time',
    artist: 'The Weeknd',
    videoUrl: 'https://www.youtube.com/watch?v=2fDzCWNS3ig',
    lyricsText: `The last few months,
I've been working on me, baby
There's so much trauma in my life
I've been so cold to the ones
who loved me, baby
I look back now and realize
I remember when I held you
You begged me
with your drowning eyes to stay
And I regret I didn't tell you
Now I can't keep you from loving him
You made up your mind
Say I love you, girl, but I'm out of time
Say I'm there for you, but I'm out of time
Say that I'll care for you, but I'm out of time
Said I'm too late to make you mine,
out of time
If he mess up just a little
Baby, you know my line
If you don't trust him a little
Then come right back, girl, come right back
Gimme one chance, just a little
Baby, I'll treat you right
And I'll love you like
I should've loved you all the time
I remember when I held you
(Held you, baby)
You begged me with your drowning
eyes to stay (Never again, baby)
And I regret I didn't tell you
Now I can't keep you from loving him
You made up your mind
Say I love you, girl, but I'm out of time
Say I'm there for you, but I'm out of time
Say that I'll care for you, but I'm out of time
Said I'm too late to make you mine,
out of time
Oh, singing, out of time
Said I had you to myself
But I'm out of time
Say that I'll care for you, but I'm out of time
But I'm too late to make you mine,
out of time
Out of time
Out of time
Don't you dare touch that dial
Because like the song says,
you are out of time
You're almost there, but don't panic
There's still more music to come
Before you're completely
engulfed in the blissful
embrace of that little light
you see in the distance
Soon you'll be healed,
forgiven and refreshed
Free from all trauma, pain, guilt and shame
You may even forget your own name
But before you dwell in that house forever
Here's thirty minutes of easy
listening to some slow tracks
On 103.5 Dawn FM
`,
    albumCover: 'images/OutofTime.jpg',
    audioFile: 'audio/OutofTime.mp3',
    audioDuration: '03:34',
    isLiked: false
  },
  music11: {
    title: "Grace",
    artist: 'ADOY',
    videoUrl: 'https://www.youtube.com/watch?v=QA7OSuV_Z3g',
    lyricsText: `Tell me where to go
Turn on the radio of the city lights
Will you take me to the show?
To the places that we know?
Drivin’ through the night
Always everyday a sailor
Surfin’ on the silver tide together now
Make us turn away from all the shackles and the pain
You know that all day I’ll love you
I feel that I can’t be feelin’ lonely ever again
Cuz I know I always was dreaming of a day like today
Why don’t you tell me you’re breaking away?
Why don’t you tell me this cannot replay?
So tell me where to go
Always everyday a sailor
Surin’ on the silver tide together now
Make us turn away from all the shackles and the pain
You know that all day I’ll love you
I feel that I can’t be feelin’ lonely ever again
Cuz I know I always was dreaming of a day like today
I feel that I can’t be feelin’ lonely ever again
Cuz I know I always was dreaming of a day like today
Why don’t you tell me you’re breaking away?
Why don’t you tell me this cannot replay?
Why don’t you tell me?
Why don’t you tell me?
Why don’t you
Why don’t you
Why don’t you tell me?
So tell me where to go
`,
    albumCover: 'images/Grace.jpg',
    audioFile: "audio/Grace.mp3",
    audioDuration: '04:05',
    isLiked: false
  },
  music12: {
    title: "Lemons",
    artist: 'Spencer Sutherland',
    videoUrl: 'https://www.youtube.com/watch?v=xQNTFnYmHBM',
    lyricsText: `Why you always look like you're
Look like you're so mad (looking so mad)
I bet it's been a thousand years
Thousand since you left
Like someone put the poison in the bottom of your cup
That is only temporary, we have just begun
And when I feel like I'm so fucked and so sour
I look into the mirror and laugh for thirteen hours
I got these lemons (I got these lemons)
Ya, ya, ya (ya, ya, ya)
And you can't get 'em (you can't get 'em)
Na, na, na (no, no, no)
I'ma make a whole lotta lemonade (lemonade)
I'ma have so much lemonade (lemonade)
I got these lemons (I got these lemons)
Ya, ya, ya (ya, ya, ya)
I got these
La, la, la, la, la
La, la, la, la, la
Yeah, know that I'd be too sweet if I wasn't so sour (if I wasn't so sour)
And I've been sitting right here for four, five, six
Maybe seven hours (maybe seven hours)
Yeah, I'm as high as a kite 'cause it's up to me
If things get fucked up, then it's supposed to be
Sometimes shit's just bittersweet, that's life (yeah)
I got these lemons (I got these lemons)
Ya, ya, ya (ya, ya, ya)
And you can't get 'em (you can't get 'em)
Na, na, na (no, no, no)
I'ma make a whole lotta lemonade (lemonade)
I'ma have so much lemonade (lemonade)
I got these lemons (I got these lemons)
Ya, ya, ya (ya, ya, ya)
I got these (yeah)
La, la, la, la, la (I got these lemons)
La, la, la, la, la
La, la, la, la, la (hey)
La, la, la, la, la
I got these lemons
You can't get 'em
`,
    albumCover: 'images/Lemons.jpg',
    audioFile: "audio/Lemons.mp3",
    audioDuration: '02:27',
    isLiked: false
  }
}

// #Class_DoublyLinkedList
class DoublyLinkedList {
  constructor(id) {
    this._id = id;
    this._prev = null;
    this._next = null;
  }
  set prev(pLink) { this._prev = pLink; }
  get prev() { return this._prev; }
  set next(nLink) { this._next = nLink; }
  get next() { return this._next; }
  get id() { return this._id; }
}//end_DoublyLinkedList

// #Class_MusicNode
class MusicNode {
  constructor(id, musicObject) {
    this.id = id;
    this.musicContents = musicObject;
    this.musicLinks = [];
    this.musicLength = 0;
  }
  createLinks() {
    this.musicLength = Object.keys(this.musicContents).length;
    for (let i = 0; i < this.musicLength; i++) {
      this.musicLinks.push(new DoublyLinkedList(`music${i + 1}`));
    }
  }
  linkNodes() {
    for (let i = 0; i < this.musicLength; i++) {
      if (i === 0) {
        // 시작
        this.musicLinks[i].prev = this.musicLinks[this.musicLength - 1];
        this.musicLinks[i].next = this.musicLinks[i + 1];
      } else if (i === this.musicLength - 1) {
        // 끝
        this.musicLinks[i].prev = this.musicLinks[i - 1];
        this.musicLinks[i].next = this.musicLinks[0];
      } else {
        this.musicLinks[i].prev = this.musicLinks[i - 1];
        this.musicLinks[i].next = this.musicLinks[i + 1];
      }
    }
  }
  setNode() {
    this.createLinks();
    this.linkNodes();
  }
}//end_MusicNode

const musicNodeLink = new MusicNode('musicNodeLink', musicContents);
musicNodeLink.setNode();

// #Class_MusicPlayer
class MusicPlayer {
  constructor(id) {
    this.id = id;
    this.currentLink = musicNodeLink.musicLinks[0];
    this.currentNode = musicContents[this.currentLink.id];
    this.musicLength = Object.keys(musicContents).length;

    // DOM_Area
    this.contentWrap = document.getElementById('contentWrap');
    this.playRange = document.getElementById('playRange');
    this.startTime = document.getElementById('startTime');

    this.endTime = document.getElementById('endTime');
    this.playBtn = document.getElementById('playBtn');
    this.stopBtn = document.getElementById('stopBtn');
    this.backwardBtn = document.getElementById('backwardBtn');
    this.forwardBtn = document.getElementById('forwardBtn');

    this.repeatOneBtn = document.getElementById('repeatOneBtn');
    this.repeatBtn = document.getElementById('repeatBtn');
    this.shuffleBtn = document.getElementById('shuffleBtn');

    this.linkMovie = document.getElementById('linkMovie');
    this.playlistWrapBox = document.getElementById('playlistWrapBox');
    this.playlistBox = document.getElementById('playlistBox');

    // DOM_Element
    this.musicTitle = document.getElementById('musicTitle');
    this.artistName = document.getElementById('artistName');
    this.photoArea = document.getElementById('photoArea');
    this.audioFile = document.getElementById('audioFile');
    this.wrap = document.getElementById('contentWrap');
    this.heartBtn = document.getElementById('heartBtn');
    this.ListBtn = document.getElementById('ListBtn');
    this.playlistCount = document.getElementById('playlistCount');
    this.playlistClose = document.getElementById('playlistClose');

    // PlayList
    this.playlistCount = document.getElementById('playlistCount');
    this.playlistBackwardBtn = document.getElementById('playlistBackwardBtn');
    this.playlistPlayBtn = document.getElementById('playlistPlayBtn');
    this.playlistPauseBtn = document.getElementById('playlistPauseBtn');
    this.playlistForwardBtn = document.getElementById('playlistForwardBtn');

    // MusicBox
    this.activePlayMusicBox = document.getElementById('activePlayMusicBox');
    this.activePlayMusicImg = document.getElementById('activePlayMusicImg');
    this.activePlayMusicRange = document.getElementById('activePlayMusicRange');

    // lyricsBox
    this.viewLyricsBtn = document.getElementById('viewLyricsBtn');
    this.lyricsContTxt = document.getElementById('lyricsContTxt');
    this.lyricsContWrap = document.getElementById('lyricsContWrap');
    this.lyricsContBox = document.getElementById('lyricsContBox');
    this.lyricsBoxShadowAreaTop = document.getElementById('lyricsBoxShadowAreaTop');
    this.lyricsBoxShadowAreaBottom = document.getElementById('lyricsBoxShadowAreaBottom');
    this.hidelyricsBoxArea = document.getElementById('hidelyricsBoxArea');

  }

  // ===== mainContent =====

  updateDOM() {
    const currentMusic = this.currentNode;
    this.musicTitle.textContent = currentMusic.title;
    this.artistName.textContent = currentMusic.artist;
    this.lyricsContTxt.innerText = currentMusic.lyricsText;
    this.photoArea.style.backgroundImage = `url(${currentMusic.albumCover})`;

    // audioFile
    this.audioFile.src = `${currentMusic.audioFile}`;
    this.audioFile.className = (`${this.currentLink.id}`);

    // wrap - backgroundImage
    this.wrap.style.backgroundImage = `linear-gradient(rgba(24, 24, 24, 0.79),
      rgba(24, 24, 24, 0.82)), url(${currentMusic.albumCover})`;
    this.linkMovie.href = currentMusic.videoUrl; // 유튜브 링크
    document.getElementById('playlistCount').textContent = this.musicLength; // 음악수

    // playList - backgroundImage
    this.activePlayMusicImg.style.backgroundImage = `url(${currentMusic.albumCover})`;
    this.activePlayMusicBox.style.backgroundImage = `linear-gradient(rgba(36, 36, 36, 0.78),
      rgba(24, 24, 24, 0.9)), url(${currentMusic.albumCover})`;

    // playRange
    this.playRange.value = 0;
    this.playRange.style.background = `linear-gradient(to right, #00c3ff 0%, #ddd 0%)`;

    // lyricshBox - backgroundImage
    this.lyricsContBox.style.backgroundImage = `linear-gradient(to bottom,rgba(22, 22, 22, 0.9),
  rgba(22, 22, 22, 0.9)), url(${currentMusic.albumCover})`

    // heartBtn
    if (this.currentNode.isLiked === false) {
      this.heartBtn.classList.add('xi-heart-o');
      this.heartBtn.classList.remove('xi-heart');
    } else {
      this.heartBtn.classList.remove('xi-heart-o');
      this.heartBtn.classList.add('xi-heart');
    }

    // === method === 
    // 음악 멈추기
    this.audioFile.pause();
    //  가사영역 hide
    this.lyricshideFunc();
    // playListItem Active
    this.activePlayListMusicNode();
  }//

  musicPlayBtnFunc() {
    this.playBtn.style.display = "none";
    this.stopBtn.style.display = "block";

    this.playlistPlayBtn.style.display = "none";
    this.playlistPauseBtn.style.display = "block";

    this.audioFile.play();
  }//

  musicPauseBtnFunc() {
    this.playBtn.style.display = "block";
    this.stopBtn.style.display = "none";

    this.playlistPlayBtn.style.display = "block";
    this.playlistPauseBtn.style.display = "none";

    this.audioFile.pause();
  }//

  playMusic() {
    this.playBtn.addEventListener("click", () => {
      this.musicPlayBtnFunc();
    });
  }//

  pauseMusic() {
    this.stopBtn.addEventListener("click", () => {
      this.musicPauseBtnFunc();
    });
  }//

  loadData() {
    this.audioFile.addEventListener('loadedmetadata', () => {
      const minutes = parseInt(this.audioFile.duration / 60);
      const second = parseInt(this.audioFile.duration % 60);
      const secondV = second < 10 ? ('0' + second) : second;
      this.playRange.max = this.audioFile.duration;
      this.endTime.innerText = `0${minutes}:${secondV}`;
    });
  }//

  musicTimeUpdate() {
    this.audioFile.addEventListener("timeupdate", () => {
      const minutes = parseInt(this.audioFile.currentTime / 60);
      const second = parseInt(this.audioFile.currentTime % 60);
      const secondV = second < 10 ? ('0' + second) : second;
      const currentPercent = (this.audioFile.currentTime / this.audioFile.duration) * 100;
      this.playRange.value = this.audioFile.currentTime;
      this.playRange.style.background = `linear-gradient(to right, #00c3ff ${currentPercent}%, #ddd ${currentPercent}%)`;
      //playListRange
      //그라디언트의 시작과 끝 지점이 동일
      this.activePlayMusicRange.style.background = `linear-gradient(to right, #00c3ff ${currentPercent}%, #ddd ${currentPercent}%)`;
      this.startTime.textContent = `0${minutes}:${secondV}`;
      // 다음 곡 자동 재생 (repeat버튼 유무 검사)
      let repeatOnceNum = 0;
      if(this.audioFile.currentTime === this.audioFile.duration && this.playBtn.style.display == "none"){
        if (this.repeatBtn.classList.contains("repeatActiveBtn")) {
          // repeat
          this.currentLink = this.currentLink;
          this.currentNode = musicContents[this.currentLink.id];
          this.audioFile.play();
        }else if(this.repeatOneBtn.classList.contains("repeatOneActiveBtn")){
          // One repeat
          this.currentLink = this.currentLink;
          this.currentNode = musicContents[this.currentLink.id];
          this.audioFile.play();
          this.repeatOneBtn.classList.remove("repeatOneActiveBtn");
        }else{
          this.moveToNextTrack();
          this.audioFile.play();
        }
      }
    });
  }//

  musicRange() {
    this.playRange.addEventListener("input", () => {
      this.audioFile.currentTime = this.playRange.value;
    });
  }//

  heartFunc() {
    this.heartBtn.addEventListener("click", () => {
      if (this.heartBtn.classList.contains('xi-heart-o')) {
        this.heartBtn.classList.remove('xi-heart-o');
        this.heartBtn.classList.add('xi-heart');
        this.currentNode.isLiked = true;
      } else {
        this.heartBtn.classList.add('xi-heart-o');
        this.heartBtn.classList.remove('xi-heart');
        this.currentNode.isLiked = false;
      }
    });
  }//

  backwardPlay() {
    this.backwardBtn.addEventListener("click", () => {
      this.moveToPreviousTrack();
      this.musicPlayBtnFunc();
    });
  }//

  forwardPlay() {
    this.forwardBtn.addEventListener("click", () => {
      this.moveToNextTrack();
      this.musicPlayBtnFunc();
    });
  }//

  moveToNextTrack() {
    this.currentLink = this.currentLink.next;
    this.currentNode = musicContents[this.currentLink.id];
    this.updateDOM();
  }//

  moveToPreviousTrack() {
    this.currentLink = this.currentLink.prev;
    this.currentNode = musicContents[this.currentLink.id];
    this.updateDOM();
  }//

  // ===== playList =====

  showPlayList() {
    this.ListBtn.addEventListener("click", () => {
      this.playlistWrapBox.style.display = "block";
      setTimeout(() => {
        this.playlistWrapBox.style.top = 0;
      }, 0)
    })
  }//

  addPlayListItem() {
    for (let i = 1; i <= this.musicLength; i++) {
      const item = 'music' + (i);
      this.playlistBox.innerHTML +=
        `
       <article id="pItem${i}" class="playlistItem p${i}">
        <div id="pAlbum${i}" class="playlistAlbumImg"></div>
        <div class="playlistTxtBox pTxtBox${i}">
          <h2 id="playlistTitlemusic${i}" class="playlistTitle pTitle${i}">${musicContents[item].title}</h2>
          <p id="playlistArtistmusic${i}" class="playlistArtist pArtist${i}">${musicContents[item].artist}</p>
        </div>
        <i id="playListIconmusic${i}" class="xi-chart-bar iconSizeC"></i> 
        <span class="playlistDuration pTime${i}">${musicContents[item].audioDuration}</span>
        <div id="playlistItem0${i}" class="playlistItemCover"></div>
      </article> 
  `
      document.getElementById(`pAlbum${i}`).style.backgroundImage = `url(${musicContents[item].albumCover})`
    }
  }//

  playListLink() {
    this.playlistBox.addEventListener("click", (event) => {
      const id = event.target.id;
      const linkNum = parseInt(id.slice((event.target.id.length) - 2));
      this.currentLink = musicNodeLink.musicLinks[linkNum - 1];
      this.currentNode = musicContents[this.currentLink.id];
      // 뮤직재생화면도 바뀌어야함
      this.updateDOM();
      this.musicPlayBtnFunc();
      this.playBtn.style.display = "none";
      this.stopBtn.style.display = "block";
    })
  }//

  playListBackwardFunc() {
    this.playlistBackwardBtn.addEventListener("click", () => {
      this.moveToPreviousTrack();
      this.musicPlayBtnFunc();
    })
  }//

  playlistForwardFunc() {
    this.playlistForwardBtn.addEventListener("click", () => {
      this.moveToNextTrack();
      this.musicPlayBtnFunc();
    })
  }//

  playlistPauseFunc() {
    this.playlistPauseBtn.addEventListener("click", () => {
      this.musicPauseBtnFunc();
    })
  }//

  playlistPlayFunc() {
    this.playlistPlayBtn.addEventListener("click", () => {
      this.musicPlayBtnFunc();
    })
  }//

  playlistAreaClose() {
    this.playlistClose.addEventListener("click", () => {
      setTimeout(() => {
        this.playlistWrapBox.style.top = 100 + '%';
      }, 0)
    })
  }//

  activePlayMusicImgClick() {
    this.activePlayMusicImg.addEventListener("click", () => {
      setTimeout(() => {
        this.playlistWrapBox.style.top = 100 + '%';
      }, 0)
    })
  }//

  lyricshideFunc() {
    this.lyricsBoxShadowAreaTop.style.display = "none";
    this.lyricsBoxShadowAreaBottom.style.display = "none";
    this.lyricsContBox.style.top = 100 + "%";
    this.lyricsContWrap.style.display = "none";
  }//

  showlyricsBoxFunc() {
    this.viewLyricsBtn.addEventListener("click", () => {
      this.lyricsContWrap.style.display = "block";
      setTimeout(() => {
        this.lyricsContBox.style.top = "0";
        setTimeout(() => {
          this.lyricsBoxShadowAreaTop.style.display = "block";
          this.lyricsBoxShadowAreaBottom.style.display = "block";
        }, 450)
      }, 100)
    })
  }//

  hidelyricsBoxFunc() {
    this.hidelyricsBoxArea.addEventListener("click", (event) => {
      this.lyricsBoxShadowAreaTop.style.display = "none";
      this.lyricsBoxShadowAreaBottom.style.display = "none";
      setTimeout(() => {
        this.lyricsContBox.style.top = 100 + "%";
        this.lyricsContWrap.style.display = "none";
      }, 100)
    })
  }//

  activePlayListMusicNode() {
    for (let i = 1; i <= this.musicLength; i++) {
      if (`music${i}` === (this.currentLink.id)) {
        document.getElementById(`playlistTitle${this.currentLink.id}`).classList.add('pActive');
        document.getElementById(`playlistArtist${this.currentLink.id}`).classList.add('pActive');
        document.getElementById(`playListIcon${this.currentLink.id}`).classList.add('pActiveIcon');
      } else {
        document.getElementById(`playlistTitlemusic${i}`).classList.remove('pActive');
        document.getElementById(`playlistArtistmusic${i}`).classList.remove('pActive');
        document.getElementById(`playListIconmusic${i}`).classList.remove('pActiveIcon');
      }
    }
  }//

  repeatOneMusicPlay(){
    this.repeatOneBtn.addEventListener("click", () => {
      this.repeatOneBtn.classList.toggle("repeatOneActiveBtn");
      // 나머지제거
      this.repeatBtn.classList.remove("repeatActiveBtn");
      this.shuffleBtn.classList.remove("shuffleActiveBtn");
    })
  }

  repeatMusicPlay() {
    this.repeatBtn.addEventListener("click", () => {
      this.repeatBtn.classList.toggle("repeatActiveBtn");
      // 나머지제거
      this.repeatOneBtn.classList.remove("repeatOneActiveBtn");
      this.shuffleBtn.classList.remove("shuffleActiveBtn");
    })
  }//

  shuffleMusicPlay() {
    this.shuffleBtn.addEventListener("click", () => {
      this.shuffleBtn.classList.toggle("shuffleActiveBtn");
      // 나머지제거
      this.repeatOneBtn.classList.remove("repeatOneActiveBtn");
      this.repeatBtn.classList.remove("repeatActiveBtn");
    })
  }//

  playTrack() {
    this.addPlayListItem(); // playListItem 먼저 추가
    this.updateDOM();
    this.loadData();
    this.musicTimeUpdate();
    this.forwardPlay();
    this.backwardPlay();

    // playListBtn
    this.showPlayList();
    this.playListBackwardFunc();
    this.playlistForwardFunc();
    this.playlistPauseFunc();
    this.playlistPlayFunc();

    this.playMusic();
    this.pauseMusic();
    this.musicRange();
    this.heartFunc();

    // playList
    this.showPlayList();
    this.playListLink();
    this.playlistAreaClose();
    this.activePlayMusicImgClick();
    this.activePlayListMusicNode();

    // lyricsBox
    this.showlyricsBoxFunc();
    this.hidelyricsBoxFunc();

    //repeat,shuffle
    this.repeatOneMusicPlay();
    this.repeatMusicPlay();
    this.shuffleMusicPlay();
  }//

}//end_MusicPlayer

const musicPlayer = new MusicPlayer('musicPlayer');
musicPlayer.playTrack();


